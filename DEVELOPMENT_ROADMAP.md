# Velo Studio å¼€å‘è·¯çº¿å›¾

> æ™ºèƒ½è§†é¢‘åæœŸå¤„ç†ä¸éšç§ä¿æŠ¤æ¡Œé¢åº”ç”¨

**æœ€åæ›´æ–°**: 2026å¹´1æœˆ22æ—¥  
**å½“å‰ç‰ˆæœ¬**: 1.0.0  
**æŠ€æœ¯æ ˆ**: Electron 39 + React 18 + TypeScript + PixiJS 8 + Tailwind CSS

---

## ğŸ“Š é¡¹ç›®çŠ¶æ€æ€»è§ˆ

| æ¨¡å— | çŠ¶æ€ | å®Œæˆåº¦ |
|------|------|--------|
| æ ¸å¿ƒå½•åˆ¶åŠŸèƒ½ | âœ… å®Œæˆ | 100% |
| è§†é¢‘ç¼–è¾‘å™¨ | âœ… å®Œæˆ | 100% |
| æ‰‹åŠ¨ç¼©æ”¾ (Zoom) | âœ… å®Œæˆ | 100% |
| è‡ªåŠ¨ç¼©æ”¾ (Auto-Zoom) | âœ… åŸºç¡€å®Œæˆ | 85% |
| æ³¨é‡Šç³»ç»Ÿ (Annotations) | âœ… å®Œæˆ | 100% |
| éšç§æ¨¡ç³Š (Privacy Blur) | ğŸ”„ è¿›è¡Œä¸­ | 60% |
| è§†é¢‘å¯¼å‡º (MP4/GIF) | âœ… å®Œæˆ | 100% |
| ç”¨æˆ·è´¦å·ç³»ç»Ÿ | ğŸ“‹ å¾…å¼€å§‹ | 0% |
| äº‘ç«¯åŒæ­¥ | ğŸ“‹ å¾…å¼€å§‹ | 0% |

---

## âœ… å·²å®ŒæˆåŠŸèƒ½æ¸…å•

### 1. æ ¸å¿ƒå½•åˆ¶åŠŸèƒ½
- [x] å±å¹•åŒºåŸŸé€‰æ‹©å½•åˆ¶
- [x] å…¨å±å½•åˆ¶
- [x] 30fps å…‰æ ‡ä½ç½®è¿½è¸ªï¼ˆç”¨äº Auto-Zoomï¼‰
- [x] å½•åˆ¶å€’è®¡æ—¶ (3-2-1)
- [x] ç³»ç»Ÿæ‰˜ç›˜å¿«é€Ÿæ§åˆ¶
- [x] å½•åˆ¶æ—¶é•¿æ˜¾ç¤º

### 2. è§†é¢‘ç¼–è¾‘å™¨ç•Œé¢
- [x] æµ…è‰²ä¸»é¢˜ UI (Cap.so é£æ ¼)
- [x] è§†é¢‘é¢„è§ˆæ’­æ”¾å™¨ (PixiJS æ¸²æŸ“)
- [x] å¯æ‹–æ‹½æ—¶é—´è½´ (dnd-timeline)
- [x] æ’­æ”¾æ§åˆ¶ï¼ˆæ’­æ”¾/æš‚åœ/è·³è½¬ï¼‰
- [x] é”®ç›˜å¿«æ·é”®æ”¯æŒ
- [x] èƒŒæ™¯å£çº¸é€‰æ‹© (9ç§é¢„è®¾ + è‡ªå®šä¹‰ä¸Šä¼ )
- [x] èƒŒæ™¯æ¸å˜è‰²æ”¯æŒ
- [x] è§†é¢‘åœ†è§’è°ƒèŠ‚
- [x] è§†é¢‘é˜´å½±è°ƒèŠ‚
- [x] è§†é¢‘å†…è¾¹è·è°ƒèŠ‚
- [x] å®½é«˜æ¯”åˆ‡æ¢ (16:9, 9:16, 4:3, 1:1, 4:5, 21:9)

### 3. ç¼©æ”¾åŠŸèƒ½ (Zoom)
- [x] æ‰‹åŠ¨æ·»åŠ ç¼©æ”¾åŒºåŸŸ
- [x] 6çº§ç¼©æ”¾æ·±åº¦ (1.25x ~ 5.0x)
- [x] ç¼©æ”¾ç„¦ç‚¹æ‹–æ‹½è°ƒæ•´
- [x] å¹³æ»‘ç¼©æ”¾åŠ¨ç”» (Motion Blur)
- [x] ç¼©æ”¾åŒºåŸŸæ—¶é—´è½´ç¼–è¾‘

### 4. è‡ªåŠ¨ç¼©æ”¾ (Auto-Zoom)
- [x] å½•åˆ¶æ—¶å…‰æ ‡è¿½è¸ª (30fps)
- [x] å…‰æ ‡æ•°æ®ä¸è§†é¢‘åŒæ­¥ä¿å­˜
- [x] ç‚¹å‡»äº‹ä»¶æ£€æµ‹ â†’ è‡ªåŠ¨ç”Ÿæˆ Zoom
- [x] åœç•™åŒºåŸŸæ£€æµ‹ â†’ è‡ªåŠ¨ç”Ÿæˆ Zoom
- [x] é€Ÿåº¦å˜åŒ–æ£€æµ‹ â†’ æ™ºèƒ½è¯†åˆ«å…³æ³¨ç‚¹
- [x] å€™é€‰åŒºåŸŸèšç±»ï¼ˆé¿å…é‡å¤ zoomï¼‰
- [x] ä¼˜å…ˆçº§æ’åºç³»ç»Ÿ
- [x] é¢‘ç‡æ§åˆ¶ï¼ˆé˜²æ­¢è¿‡åº¦ç¼©æ”¾ï¼‰
- [x] LaunchWindow æ·»åŠ  Zoom å¼€å…³æŒ‰é’®
- [x] TimelineEditor æ·»åŠ  Auto-Zoom æŒ‰é’®

### 5. æ³¨é‡Šç³»ç»Ÿ (Annotations)
- [x] æ–‡å­—æ³¨é‡Šï¼ˆå­—ä½“ã€å¤§å°ã€é¢œè‰²ã€å¯¹é½ï¼‰
- [x] å›¾ç‰‡æ³¨é‡Šï¼ˆä¸Šä¼ å›¾ç‰‡è¦†ç›–ï¼‰
- [x] ç®­å¤´æ³¨é‡Šï¼ˆ8ç§æ–¹å‘ã€é¢œè‰²ã€ç²—ç»†ï¼‰
- [x] æ¨¡ç³Šæ³¨é‡Šï¼ˆé«˜æ–¯æ¨¡ç³Šã€åƒç´ åŒ–ã€é»‘è‰²é®æŒ¡ï¼‰
- [x] æ³¨é‡Šæ—¶é—´è½´ç¼–è¾‘
- [x] æ³¨é‡Šä½ç½®/å¤§å°æ‹–æ‹½è°ƒæ•´
- [x] æ³¨é‡Šå±‚çº§ (z-index) ç®¡ç†
- [x] æ³¨é‡Šå¯¼å‡ºæ¸²æŸ“

### 6. éšç§æ¨¡ç³Š (Privacy Blur) - éƒ¨åˆ†å®Œæˆ
- [x] æ‰‹åŠ¨æ·»åŠ æ¨¡ç³ŠåŒºåŸŸ
- [x] ä¸‰ç§æ¨¡ç³Šç±»å‹ï¼šBlur / Pixelate / Blackout
- [x] æ¨¡ç³Šå¼ºåº¦è°ƒèŠ‚ (10-100%)
- [x] æ¨¡ç³ŠåŒºåŸŸæ ‡ç­¾
- [x] æ•æ„Ÿä¿¡æ¯æ­£åˆ™åŒ¹é…åº“ï¼ˆ15+ æ¨¡å¼ï¼‰
  - OpenAI API Keys (`sk-...`)
  - Anthropic API Keys (`sk-ant-...`)
  - GitHub Tokens (`ghp_...`, `gho_...`)
  - AWS Access Keys (`AKIA...`)
  - Stripe Keys (`sk_live_...`, `pk_live_...`)
  - JWT Tokens
  - Bearer Tokens
  - å¯†ç å­—æ®µ
  - ä¿¡ç”¨å¡å·ç 
  - é‚®ç®±åœ°å€
  - ç”µè¯å·ç 
- [x] OCR å¼•æ“é›†æˆ (Tesseract.js)
- [x] è§†é¢‘å¸§æ‰«æåŠŸèƒ½
- [ ] âš ï¸ OCR å‡†ç¡®ç‡éœ€è¦ä¼˜åŒ–
- [ ] âš ï¸ è‡ªåŠ¨æ£€æµ‹ UI éœ€è¦æ”¹è¿›
- [ ] äººè„¸æ£€æµ‹ (MediaPipe)
- [ ] è·¨å¸§è¿½è¸ª

### 7. è§†é¢‘å¯¼å‡º
- [x] MP4 å¯¼å‡º (WebCodecs API)
- [x] GIF å¯¼å‡º (gif.js)
- [x] å¯¼å‡ºè´¨é‡é€‰æ‹© (Low/Medium/High)
- [x] å¯¼å‡ºè¿›åº¦æ˜¾ç¤º
- [x] æ³¨é‡Šæ¸²æŸ“åˆ°å¯¼å‡ºè§†é¢‘
- [x] ç¼©æ”¾æ•ˆæœæ¸²æŸ“åˆ°å¯¼å‡ºè§†é¢‘

### 8. UI/UX ä¼˜åŒ–
- [x] å½•åˆ¶æŒ‰é’®å–æ¶ˆé—ªçƒåŠ¨ç”»
- [x] Tesseract.js åŠ¨æ€åŠ è½½ï¼ˆä¼˜åŒ–å¯åŠ¨é€Ÿåº¦ï¼‰
- [x] å£çº¸åŠ è½½ä¼˜åŒ–

---

## ğŸ”„ è¿›è¡Œä¸­ / éœ€è¦ä¼˜åŒ–

### Auto-Zoom ä¼˜åŒ–å»ºè®®
| é—®é¢˜ | å½“å‰çŠ¶æ€ | ä¼˜åŒ–æ–¹å‘ |
|------|---------|---------|
| ç¼©æ”¾é¢‘ç‡ | åŸºæœ¬åˆç† | å¯æ·»åŠ ç”¨æˆ·å¯è°ƒèŠ‚å‚æ•° |
| ç„¦ç‚¹å‡†ç¡®æ€§ | 80% | è€ƒè™‘åŠ å…¥ UI å…ƒç´ æ£€æµ‹ |
| è¿‡æ¸¡å¹³æ»‘åº¦ | è‰¯å¥½ | å·²æœ‰ Motion Blur |

**å½“å‰é…ç½®** (src/lib/cursorTracker.ts):
```typescript
const DEFAULT_CONFIG = {
  minZoomInterval: 1.0,    // ç§’
  zoomDuration: 2.0,       // ç§’
  clickZoomDepth: 3,       // 1.8x
  focusZoomDepth: 2,       // 1.5x
  dwellTimeThreshold: 1000, // ms
  minClickGap: 200,        // ms
  maxZoomsPerMinute: 25,
};
```

### Privacy Blur å¾…å®Œå–„
| åŠŸèƒ½ | çŠ¶æ€ | å¤‡æ³¨ |
|------|------|------|
| æ‰‹åŠ¨æ·»åŠ æ¨¡ç³Š | âœ… | å·²å®Œæˆ |
| è‡ªåŠ¨ OCR æ‰«æ | âš ï¸ | å‡†ç¡®ç‡ä¸ç¨³å®š |
| è‡ªå®šä¹‰å…³é”®è¯ | ğŸ“‹ | éœ€è¦ UI |
| äººè„¸æ£€æµ‹ | ğŸ“‹ | éœ€é›†æˆ MediaPipe |
| æ£€æµ‹ç»“æœå®¡æŸ¥ç•Œé¢ | ğŸ“‹ | éœ€è¦è®¾è®¡ |

---

## ğŸ“‹ å¾…å¼€å‘åŠŸèƒ½

### Phase 4: ç”¨æˆ·è´¦å·ç³»ç»Ÿ (åç«¯: PocketBase)
- [ ] ç”¨æˆ·æ³¨å†Œ/ç™»å½•
- [ ] é‚®ç®±éªŒè¯
- [ ] å¯†ç é‡ç½®
- [ ] OAuth ç™»å½• (Google, GitHub)
- [ ] ç”¨æˆ·é…ç½®åŒæ­¥

### Phase 5: äº‘ç«¯åŒæ­¥
- [ ] é¡¹ç›®äº‘å­˜å‚¨
- [ ] è§†é¢‘èµ„æºç®¡ç†
- [ ] å¤šè®¾å¤‡åŒæ­¥
- [ ] åˆ†äº«é“¾æ¥ç”Ÿæˆ

### Phase 6: å¢å¼ºåŠŸèƒ½
- [ ] å…‰æ ‡ç¾åŒ– (è½¨è¿¹å¹³æ»‘ã€ç‚¹å‡»æ¶Ÿæ¼ª)
- [ ] ç‚¹å‡»é«˜äº®æ•ˆæœ
- [ ] é¢„è®¾åŠ¨ç”»æ¨¡æ¿
- [ ] æ°´å°æ·»åŠ 
- [ ] å­—å¹•æ”¯æŒ

### Phase 7: å•†ä¸šåŒ–
- [ ] è®¸å¯è¯ç³»ç»Ÿ
- [ ] è®¢é˜…/ä¹°æ–­æ”¯ä»˜
- [ ] è¯•ç”¨ç‰ˆé™åˆ¶

---

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
velo-studio/
â”œâ”€â”€ electron/                    # Electron ä¸»è¿›ç¨‹
â”‚   â”œâ”€â”€ main.ts                 # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ preload.ts              # é¢„åŠ è½½è„šæœ¬
â”‚   â””â”€â”€ ipc/                    # IPC å¤„ç†å™¨
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ launch/             # å½•åˆ¶å¯åŠ¨ç•Œé¢
â”‚   â”‚   â”‚   â””â”€â”€ LaunchWindow.tsx
â”‚   â”‚   â”œâ”€â”€ ui/                 # é€šç”¨ UI ç»„ä»¶
â”‚   â”‚   â””â”€â”€ video-editor/       # è§†é¢‘ç¼–è¾‘å™¨
â”‚   â”‚       â”œâ”€â”€ VideoEditor.tsx
â”‚   â”‚       â”œâ”€â”€ VideoPlayback.tsx
â”‚   â”‚       â”œâ”€â”€ SettingsPanel.tsx
â”‚   â”‚       â”œâ”€â”€ AnnotationOverlay.tsx
â”‚   â”‚       â”œâ”€â”€ AnnotationSettingsPanel.tsx
â”‚   â”‚       â”œâ”€â”€ timeline/
â”‚   â”‚       â”‚   â””â”€â”€ TimelineEditor.tsx
â”‚   â”‚       â””â”€â”€ types.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â””â”€â”€ useScreenRecorder.ts  # å½•åˆ¶ + å…‰æ ‡è¿½è¸ª
â”‚   â”‚
â”‚   â””â”€â”€ lib/
â”‚       â”œâ”€â”€ cursorTracker.ts      # Auto-Zoom ç®—æ³•
â”‚       â”œâ”€â”€ sensitiveDetector.ts  # æ•æ„Ÿä¿¡æ¯æ­£åˆ™
â”‚       â”œâ”€â”€ videoOcrScanner.ts    # OCR æ‰«æ
â”‚       â”œâ”€â”€ assetPath.ts          # èµ„æºè·¯å¾„å¤„ç†
â”‚       â””â”€â”€ exporter/
â”‚           â”œâ”€â”€ videoExporter.ts
â”‚           â”œâ”€â”€ gifExporter.ts
â”‚           â”œâ”€â”€ frameRenderer.ts
â”‚           â””â”€â”€ annotationRenderer.ts
â”‚
â””â”€â”€ public/
    â””â”€â”€ wallpapers/              # èƒŒæ™¯å£çº¸
```

---

## ğŸ”§ æŠ€æœ¯ä¾èµ–

### æ ¸å¿ƒä¾èµ–
```json
{
  "electron": "39.2.7",
  "react": "18.x",
  "typescript": "5.x",
  "pixi.js": "8.x",
  "tailwindcss": "3.x",
  "dnd-timeline": "^1.x",
  "gsap": "^3.x",
  "motion": "^11.x"
}
```

### åŠŸèƒ½ä¾èµ–
```json
{
  "tesseract.js": "^5.x",      // OCR (åŠ¨æ€åŠ è½½)
  "gif.js": "^0.2.0",          // GIF å¯¼å‡º
  "sonner": "^1.x",            // Toast é€šçŸ¥
  "lucide-react": "^0.x"       // å›¾æ ‡
}
```

### è®¡åˆ’å¼•å…¥
```json
{
  "@mediapipe/face_detection": "^0.4.x",  // äººè„¸æ£€æµ‹
  "pocketbase": "^0.x"                     // åç«¯ SDK
}
```

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### å¼€å‘ç¯å¢ƒ
```bash
cd "/Users/johnson/Desktop/å¼€å‘/Web/Velo Studio"
npm install
npm run dev
```

### æ„å»ºåº”ç”¨
```bash
# ä»… Web æ„å»º
npm run build:web

# macOS åº”ç”¨
npm run build:web && npx electron-builder --mac --dir -c.mac.identity=null

# åº”ç”¨ä½ç½®
release/1.0.0/mac-arm64/Velo Studio.app
```

---

## ğŸ“ å¼€å‘ç¬”è®°

### å·²è§£å†³çš„é—®é¢˜
1. **å£çº¸åŠ è½½**: ä½¿ç”¨ `velo-asset://` åè®®è§£å†³ Electron èµ„æºè·¯å¾„é—®é¢˜
2. **å¯åŠ¨å¡é¡¿**: Tesseract.js æ”¹ä¸ºåŠ¨æ€å¯¼å…¥ï¼Œä¸å½±å“åˆå§‹åŠ è½½
3. **Auto-Zoom æ·±åº¦**: ä¿®å¤äº†æµ®ç‚¹æ•° vs æ•´æ•°ç±»å‹é—®é¢˜
4. **å½•åˆ¶æŒ‰é’®é—ªçƒ**: ç§»é™¤äº† animate-pulse åŠ¨ç”»

### å…³é”®æ–‡ä»¶è¯´æ˜
| æ–‡ä»¶ | ä½œç”¨ |
|------|------|
| `cursorTracker.ts` | Auto-Zoom æ ¸å¿ƒç®—æ³• |
| `sensitiveDetector.ts` | æ•æ„Ÿä¿¡æ¯æ­£åˆ™æ¨¡å¼åº“ |
| `videoOcrScanner.ts` | è§†é¢‘ OCR æ‰«æ |
| `types.ts` | ç±»å‹å®šä¹‰ (ZoomRegion, AnnotationRegion ç­‰) |
| `annotationRenderer.ts` | å¯¼å‡ºæ—¶æ¸²æŸ“æ³¨é‡Š |

---

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

### çŸ­æœŸ (1-2 å‘¨)
1. [ ] ä¼˜åŒ– Privacy Blur è‡ªåŠ¨æ‰«æå‡†ç¡®ç‡
2. [ ] æ·»åŠ è‡ªå®šä¹‰æ•æ„Ÿè¯é…ç½® UI
3. [ ] æ·»åŠ  Auto-Zoom å‚æ•°è°ƒèŠ‚ UI
4. [ ] ä¿®å¤å·²çŸ¥ UI å°é—®é¢˜

### ä¸­æœŸ (3-4 å‘¨)
1. [ ] é›†æˆ MediaPipe äººè„¸æ£€æµ‹
2. [ ] è®¾è®¡å¹¶å®ç°æ£€æµ‹ç»“æœå®¡æŸ¥ç•Œé¢
3. [ ] æ­å»º PocketBase åç«¯
4. [ ] å®ç°ç”¨æˆ·æ³¨å†Œ/ç™»å½•

### é•¿æœŸ (1-2 æœˆ)
1. [ ] äº‘ç«¯é¡¹ç›®åŒæ­¥
2. [ ] å…‰æ ‡ç¾åŒ–æ•ˆæœ
3. [ ] å•†ä¸šåŒ–å‡†å¤‡

---

## ğŸ“ åç«¯è§„åˆ’ (PocketBase)

### ä¸ºä»€ä¹ˆé€‰æ‹© PocketBase
- Go ç¼–å†™ï¼Œå•æ–‡ä»¶éƒ¨ç½²
- å†…ç½®ç”¨æˆ·è®¤è¯
- å®æ—¶è®¢é˜…
- æ–‡ä»¶å­˜å‚¨
- REST API + SDK

### æ•°æ®æ¨¡å‹è®¾è®¡ (åˆæ­¥)
```
users (å†…ç½®)
â”œâ”€â”€ id
â”œâ”€â”€ email
â”œâ”€â”€ username
â””â”€â”€ avatar

projects
â”œâ”€â”€ id
â”œâ”€â”€ user_id
â”œâ”€â”€ name
â”œâ”€â”€ created_at
â”œâ”€â”€ updated_at
â””â”€â”€ settings (JSON)

recordings
â”œâ”€â”€ id
â”œâ”€â”€ project_id
â”œâ”€â”€ video_url
â”œâ”€â”€ cursor_data (JSON)
â”œâ”€â”€ duration
â””â”€â”€ created_at

exports
â”œâ”€â”€ id
â”œâ”€â”€ recording_id
â”œâ”€â”€ format (mp4/gif)
â”œâ”€â”€ quality
â”œâ”€â”€ file_url
â””â”€â”€ created_at
```

---

## ğŸ”‘ å…³é”®ä»£ç ç‰‡æ®µå‚è€ƒ

### Auto-Zoom ç±»å‹å®šä¹‰ (types.ts)
```typescript
export type ZoomDepth = 1 | 2 | 3 | 4 | 5 | 6;

export interface ZoomRegion {
  id: string;
  startTime: number;
  endTime: number;
  depth: ZoomDepth;
  focusX: number;  // 0-1 ç›¸å¯¹äºè§†é¢‘å®½åº¦
  focusY: number;  // 0-1 ç›¸å¯¹äºè§†é¢‘é«˜åº¦
}
```

### å…‰æ ‡è¿½è¸ªæ•°æ®æ ¼å¼
```typescript
export interface CursorData {
  timestamp: number;  // ç›¸å¯¹äºå½•åˆ¶å¼€å§‹çš„æ¯«ç§’
  x: number;          // å±å¹•åæ ‡
  y: number;          // å±å¹•åæ ‡
  isClick?: boolean;  // æ˜¯å¦å‘ç”Ÿç‚¹å‡»
}
```

### æ³¨é‡Šç±»å‹å®šä¹‰
```typescript
export type AnnotationType = 'text' | 'image' | 'arrow' | 'blur';

export interface BlurStyle {
  type: 'blur' | 'pixelate' | 'blackout';
  intensity: number;  // 10-100
  label?: string;
}
```

---

*æ–‡æ¡£ç‰ˆæœ¬: 3.0*  
*åˆ›å»ºæ—¶é—´: 2026å¹´1æœˆ20æ—¥*  
*æœ€åæ›´æ–°: 2026å¹´1æœˆ22æ—¥*
